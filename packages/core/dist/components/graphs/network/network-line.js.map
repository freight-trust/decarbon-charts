{"version":3,"file":"network-line.js","sourceRoot":"","sources":["network-line.ts"],"names":[],"mappings":"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","sourcesContent":["import settings from \"carbon-components/src/globals/js/settings\";\nimport classnames from \"classnames\";\nimport { buildPathString } from \"./utils\";\nimport { Component } from \"../../component\";\n\n// Marker icons\nimport ChevronRight from \"@carbon/icons/es/chevron--right/16\";\nimport ChevronLeft from \"@carbon/icons/es/chevron--left/16\";\nimport { buildIconString } from \"./utils\";\n\nconst { prefix } = settings;\n\nexport class NetworkLine extends Component {\n\trender() {\n\t\tconst {\n\t\t\tcontainer,\n\t\t\tselector,\n\t\t\tnodeHeight,\n\t\t\tnodeWidth,\n\t\t\tdata\n\t\t} = this.configs;\n\n\t\tconst buildMarkerDefs = () => data.reduce((unique, link) => {\n\t\t\tconst { kind, multiDirectional, directional } = link;\n\n\t\t\tconst markerClasses = classnames(`${prefix}--network-link__marker`, {\n\t\t\t\t[`${prefix}--network-link__marker--${kind}`]: kind\n\t\t\t});\n\n\t\t\tif (directional || multiDirectional) {\n\t\t\t\tconst endMarkerID = `arrow${kind ? `-${kind}` : ``}-end`;\n\t\t\t\tunique[endMarkerID] = { id: endMarkerID, end: true, markerClasses };\n\t\t\t}\n\t\t\tif (multiDirectional) {\n\t\t\t\tconst startMarkerId = `arrow${kind ? `-${kind}` : ``}-start`;\n\t\t\t\tunique[startMarkerId] = { id: startMarkerId, end: false, markerClasses };\n\t\t\t}\n\n\t\t\treturn unique;\n\t\t}, {});\n\n\t\tconst markerData = buildMarkerDefs();\n\n\t\tconst markers = container.append(\"svg:defs\")\n\t\t\t.selectAll(\"marker\")\n\t\t\t.data(Object.keys(markerData).map(key => markerData[key]))\n\t\t\t.enter()\n\t\t\t\t.append(\"svg:marker\")\n\t\t\t\t.attr(\"id\", ({id}) => id)\n\t\t\t\t.attr(\"class\", ({markerClasses}) => markerClasses)\n\t\t\t\t.attr(\"markerHeight\", 16)\n\t\t\t\t.attr(\"markerWidth\", 16)\n\t\t\t\t.attr(\"orient\", \"auto\")\n\t\t\t\t.attr(\"refX\", ({end}) => end ? 10 : 6)\n\t\t\t\t.attr(\"refY\", 8)\n\t\t\t\t\t.html(({end}) => buildIconString(end ? ChevronRight : ChevronLeft));\n\n\t\tconst lines = container.selectAll(selector)\n\t\t\t.data(data)\n\t\t\t.enter()\n\t\t\t\t.append(\"path\")\n\t\t\t\t.attr(\"class\", ({kind}) => classnames(`${prefix}--network-link__line`, {\n\t\t\t\t\t[`${prefix}--network-link__line--${kind}`]: kind\n\t\t\t\t}))\n\t\t\t\t.attr(\"marker-start\", ({kind, multiDirectional}) => multiDirectional && `url(#arrow${kind ? `-${kind}` : ``}-start)` )\n\t\t\t\t.attr(\"marker-end\", ({kind, directional, multiDirectional}) =>\n\t\t\t\t\t(directional || multiDirectional) && `url(#arrow${kind ? `-${kind}` : ``}-end)` )\n\t\t\t\t.attr(\"d\", ({source, target}) => buildPathString(source, target, nodeHeight, nodeWidth))\n\t\t\t\t.style(\"stroke-dasharray\", ({dash}) => dash);\n\n\t}\n}\n"]}